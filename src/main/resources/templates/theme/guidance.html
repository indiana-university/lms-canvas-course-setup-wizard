<!DOCTYPE html>

<html lang="en-US"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<head>
    <title>Course Setup Wizard - Include guidance</title>
</head>

<body class="rvt-layout">
<div layout:fragment="content">

    <div th:insert="theme/wizardSteps.html :: steps(currentStep=4)"></div>

    <div class="rvt-row rvt-p-top-md">
        <div class="rvt-cols-8-md rvt-flow rvt-prose">
            <h2 id="page-title">Include guidance</h2>
            <form id="wizard-form-submit" th:action="@{|/app/theme/${courseId}/navigate|}" method="post" enctype="multipart/form-data">
                <p>
                    The wizard can generate Canvas content with embedded prompts and guidance for creating pedagogically
                    sound instructional materials that reflect best practices in instructional design. This guidance is
                    visible only to instructors in the edit view of the Rich Content Editor.
                </p>
                <fieldset class="rvt-fieldset">
                    <legend>Do you want the materials generated by the wizard to include embedded prompts and guidance?</legend>
                    <ul class="rvt-list-plain">
                        <li>
                            <div class="rvt-radio">
                                <input type="radio" name="guidance-radio-group" id="guidance-radio-yes">
                                <label for="guidance-radio-yes">Yes</label>
                            </div>
                        </li>
                        <li>
                            <div class="rvt-radio">
                                <input type="radio" name="guidance-radio-group" id="guidance-radio-no">
                                <label for="guidance-radio-no">No</label>
                            </div>
                        </li>
                    </ul>
                </fieldset>
                <input type="hidden" name="currentPage" value="5">
                <div th:insert="theme/wizardSteps.html :: buttons(nextOnclick='return doSubmit();')"></div>
            </form>
        </div>
    </div>
</div>

<th:block layout:fragment="script">
    <script th:inline="javascript">
        /*<![CDATA[*/
            const courseId = /*[[${courseId}]]*/
            const selectedCourseId = /*[[${selectedCourseId}]]*/
            var courses = /*[[${courses}]]*/;
            window.config = {courses: courses};
        /*]]>*/

        function doSubmit() {
            //Select control
            var inputControl = document.querySelector('input[id="course-select-input"]');
            //Hidden input with the actual value
            var inputValue = document.querySelector('input[name="selectedCourseId"]');
            if (inputValue.value == "") {
                inputControl.setAttribute("aria-invalid", "true");
                inputControl.setAttribute("aria-describedby", "option-message");
                alertMessage = document.getElementById('select-alert');
                alertMessage.classList.remove("rvt-display-none");
                inputControl.focus();
                return false;
            }
        }

    </script>
    <script type="text/javascript" th:src="@{/app/jsreact/lms-lti-coursesetupwizard/lms-lti-coursesetupwizard.js}"></script>
</th:block>
</body>
</html>
