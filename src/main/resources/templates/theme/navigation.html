<!DOCTYPE html>

<html lang="en-US"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<head>
    <title>Course Setup Wizard - Include navigation</title>
</head>

<body class="rvt-layout">
<div layout:fragment="content">

    <div th:insert="theme/wizardSteps.html :: steps(currentStep=2)"></div>

    <div class="rvt-row rvt-p-top-md">
        <div class="rvt-cols-8-md rvt-flow rvt-prose">
            <h2 id="page-title">Select theme</h2>
            <form id="wizard-form-submit" th:action="@{|/app/theme/${courseId}/navigate|}" method="post" enctype="multipart/form-data">
                <p>
                    You have the option to include navigational elements with your theme selection. The navigation
                    appears beneath the banner image in the example below. It has four quick links that say
                    "Start Here", "Syllabus", "Modules", and "Resources". The link names may be changed. Review the
                    Wizard Next Steps page for detailed instructions or contact your
                    <a href="https://kb.iu.edu/d/aitz" target="_blank">Campus Teaching and Learning Center <span class="rvt-sr-only">Opens in new window</span><rvt-icon name="link-external"></rvt-icon></a>
                    for assistance.
                </p>
                <p>
                    Example:
                    <img th:src="@{/app/images/tmp/navigation_example.png}" alt="Image showing an example of a theme with the word navigation and arrows pointing to the navigational elements" />
                </p>
                <fieldset class="rvt-fieldset">
                    <legend>Do you want to include navigation in the theme?</legend>
                    <ul class="rvt-list-plain">
                        <li>
                            <div class="rvt-radio">
                                <input type="radio" name="navigation-group" id="navigation-yes">
                                <label for="navigation-yes">Yes</label>
                            </div>
                        </li>
                        <li>
                            <div class="rvt-radio">
                                <input type="radio" name="navigation-group" id="navigation-no">
                                <label for="navigation-no">No</label>
                            </div>
                        </li>
                    </ul>
                </fieldset>
                <input type="hidden" name="currentPage" value="2">
                <div th:insert="theme/wizardSteps.html :: buttons(nextOnclick='return doSubmit();')"></div>
            </form>
        </div>
    </div>
</div>

<th:block layout:fragment="script">
    <script th:inline="javascript">
        /*<![CDATA[*/
            const courseId = /*[[${courseId}]]*/
            const selectedCourseId = /*[[${selectedCourseId}]]*/
            var courses = /*[[${courses}]]*/;
            window.config = {courses: courses};
        /*]]>*/

        function doSubmit() {
            //Select control
            var inputControl = document.querySelector('input[id="course-select-input"]');
            //Hidden input with the actual value
            var inputValue = document.querySelector('input[name="selectedCourseId"]');
            if (inputValue.value == "") {
                inputControl.setAttribute("aria-invalid", "true");
                inputControl.setAttribute("aria-describedby", "option-message");
                alertMessage = document.getElementById('select-alert');
                alertMessage.classList.remove("rvt-display-none");
                inputControl.focus();
                return false;
            }
        }

    </script>
    <script type="text/javascript" th:src="@{/app/jsreact/lms-lti-coursesetupwizard/lms-lti-coursesetupwizard.js}"></script>
</th:block>
</body>
</html>
