<!DOCTYPE html>

<html lang="en-US"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<head>
    <title>Course Setup Wizard - Review</title>
</head>

<body class="rvt-layout">
<div layout:fragment="content">

    <div th:insert="theme/wizardSteps.html :: steps(currentStep=5)"></div>

    <div class="rvt-row rvt-p-top-md">
        <div class="rvt-cols-8-md rvt-flow rvt-prose">
            <h2 id="page-title">Review</h2>
            <form id="wizard-form-submit" th:action="@{|/app/theme/${courseId}/navigate|}" method="post" enctype="multipart/form-data">
                <p>
                    You have selected the following theme (page design) and banner image for the content in this course.
                    To confirm your selections, select <span class="rvt-text-bold">Next</span>. To revise your
                    selections, return to the desired page(s) and update your choices.
                </p>
                <dl class="rvt-list-description">
                    <dt>Theme</dt>
                    <dd>Flat sections</dd>
                    <dt>Include navigation?</dt>
                    <dd>Yes</dd>
                    <dt>Banner image</dt>
                    <!-- this can also just be "No banner selected" -->
                    <dd>Radio podcast interview</dd>
                    <dt>Include instructional design prompts and guidance?</dt>
                    <dd>Yes</dd>
                    <dt>Full preview</dt>
                    <dd>
                        <!-- normal markup will be 3-4 images stacked on top of each other to mimick the choices made throughout -->
                        <img id="someuniqueid2" src="https://canvasassets.iu.edu/themes/flat_sections_1.jpg" class="rvt-m-top-sm"
                             alt="Image shows how page elements will appear for this theme. Main header and navigation are in red with white font. Heading 3 will be centered, while headings 4-6 are left justified with a horizontal rule." />
                    </dd>
                </dl>
                <input type="hidden" name="currentPage" value="6">
                <div th:insert="theme/wizardSteps.html :: buttons(nextOnclick='return doSubmit();')"></div>
            </form>
        </div>
    </div>

</div>

<th:block layout:fragment="script">
    <script th:inline="javascript">
        /*<![CDATA[*/
            const courseId = /*[[${courseId}]]*/
            const selectedCourseId = /*[[${selectedCourseId}]]*/
            var courses = /*[[${courses}]]*/;
            window.config = {courses: courses};
        /*]]>*/

        function doSubmit() {
            //Select control
            var inputControl = document.querySelector('input[id="course-select-input"]');
            //Hidden input with the actual value
            var inputValue = document.querySelector('input[name="selectedCourseId"]');
            if (inputValue.value == "") {
                inputControl.setAttribute("aria-invalid", "true");
                inputControl.setAttribute("aria-describedby", "option-message");
                alertMessage = document.getElementById('select-alert');
                alertMessage.classList.remove("rvt-display-none");
                inputControl.focus();
                return false;
            }
        }

    </script>
    <script type="text/javascript" th:src="@{/app/jsreact/lms-lti-coursesetupwizard/lms-lti-coursesetupwizard.js}"></script>
</th:block>
</body>
</html>
